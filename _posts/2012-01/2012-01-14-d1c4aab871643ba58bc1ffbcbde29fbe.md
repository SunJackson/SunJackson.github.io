---
layout:     post
title:      Contingency tables and cross-tabulations in pandas
subtitle:   转载自：http://wesmckinney.com/blog/contingency-tables-and-cross-tabulations-in-pandas/
date:       2012-01-14
author:     Wes McKinney
header-img: img/background1.jpg
catalog: true
tags:
    - sat
    - january
    - recently asked
    - cross
---





** Sat 14 January 2012

 

Someone recently asked me about creating cross-tabulations and contingency tables using [pandas](http://pandas.sf.net/.). I wrote [a bit about this](http://wesmckinney.com/blog?p=315) in October after implementing the `pivot_table` function for DataFrame. So I thought I would give a few more examples and show R code vs. the equivalent pandas code which will be helpful for those already used to the R way of doing things.

When calling `help(xtabs)` (or `help(table)`) in R, you get a number of examples for using `table, xtabs,` and `ftable`:

Here are the same examples using pandas:

One of the really great things about pandas is that the object produced is still a DataFrame (the R object is of a special class)! So we could do anything with it that we do with normal DataFrame objects:

Here is another fun example:

Here is the equivalent R code:

As soon as we [add a formula framework to statsmodels](http://statsmodels.sourceforge.net/dev/roadmap_todo.html#formula-framework) I could see incorporating that into this kind of function in Python.
