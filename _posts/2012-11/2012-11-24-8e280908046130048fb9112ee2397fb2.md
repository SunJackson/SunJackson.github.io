---
layout:     post
title:      Quaternions and Key Bindings： Simple 3D Visualization in Matplotlib
subtitle:   转载自：http://jakevdp.github.io/blog/2012/11/24/simple-3d-visualization-in-matplotlib/
date:       2012-11-24
author:     Jake VanderPlas
header-img: img/background1.jpg
catalog: true
tags:
    - quaternions
    - generalizations
    - angles
    - rotations
    - matrix
---

The first step to creating an interactive 3D object is to decide on a
representation for the orientation of the object. `mplot3d` uses
azimuthal and elevation angles: these are the familiar $\theta$ and $\phi$
of spherical coordinate systems. While this is a common system, it has the 
disadvantage that things get a little funky near the poles.

Another common framework for mathematical representation of solid-body rotations
is a rotation matrix. This is nice because multiple rotations can be 
composed quickly, but extracting axis and angle information can require
matrix decompositions that are relatively expensive.

Finally, perhaps the best option is the use of
[quaternions](http://en.wikipedia.org/wiki/Quaternion),
four-dimensional generalizations of complex numbers which can be used to compactly
[represent 3D rotations](http://en.wikipedia.org/wiki/Quaternions_and_spatial_rotation).
A friend who works in the video game industry (in particular the *Halo* series)
told me that quaternions are what the industry generally prefers in many situations:
they are compact, fast to compose, and very powerful.
On top of that, they're generally cool enough that I wanted
an excuse to play around with them a bit.

There have been a few attempts to include quaternions natively in the scipy universe, but
none have stuck. It's a shame, because it would be a very useful feature. In particular,
In particular, I'd love to see something happen with the quaternion dtype, discussed
[here](http://mail.scipy.org/pipermail/numpy-discussion/2011-July/057675.html)
on the numpy-dev email list. It looks promising, but has not yet been included in numpy.

With the lack of available implementations, I decided to write a basic quaternion class
which implements the functionality I need: multiplication of quaternions, and tranformation
to and from axis-angle representation:
