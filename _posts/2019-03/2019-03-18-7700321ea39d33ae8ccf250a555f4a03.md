---
layout:     post
catalog: true
title:      Access the free economic database DBnomics with R
subtitle:      转载自：http://feedproxy.google.com/~r/RBloggers/~3/K_dh_J2fUp8/
date:      2019-03-18
author:      Thomas Brand
tags:
    - filter_
    - df
    - functions
    - proxy
    - values formatted
---






Explore all the economic data from different providers (national and international statistical institutes, central banks, etc.), for free, following the link db.nomics.world.

![](https://i1.wp.com/macro.nomics.world/images/dbnomics001.png?w=456&ssl=1)
![](https://i1.wp.com/macro.nomics.world/images/dbnomics001.png?w=456&ssl=1)


You can also retrieve all the economic data through the `rdbnomics` package here. This blog post describes the different ways to do so.

First, let’s assume that we know which series we want to download. A series identifier (`ids`) is defined by three values, formatted like this: `provider_code`/`dataset_code`/`series_code`.

## Fetch one series from dataset ‘Unemployment rate’ (ZUTN) of AMECO provider

In such data.frame, you will always find at least nine columns:

- `provider_code`

- `dataset_code`

- `dataset_name`

- `series_code`

- `series_name`

- `original_period` (a character string)

- `period` (a date of the first day of `original_period`)

- `value`

- `@frequency` (harmonized frequency generated by DBnomics)


The other columns depend on the provider and on the dataset. They always come in pairs (for the code and the name). In the data.frame `df`, you have:

- `unit` (code) and `Unit` (name)

- `geo` (code) and `Country` (name)

- `freq` (code) and `Frequency` (name)


![](https://i0.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-5-1.png?w=456&ssl=1)
![](https://i0.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-5-1.png?w=456&ssl=1)


![](https://i2.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-6-1.png?w=456&ssl=1)
![](https://i2.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-6-1.png?w=456&ssl=1)


## Fetch two series from dataset ‘Unemployment rate’ (ZUTN) of AMECO provider

![](https://i2.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-8-1.png?w=456&ssl=1)
![](https://i2.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-8-1.png?w=456&ssl=1)


![](https://i0.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-9-1.png?w=456&ssl=1)
![](https://i0.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-9-1.png?w=456&ssl=1)


## Fetch two series from different datasets of different providers

![](https://i0.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-11-1.png?w=456&ssl=1)
![](https://i0.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-11-1.png?w=456&ssl=1)


![](https://i0.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-12-1.png?w=456&ssl=1)
![](https://i0.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-12-1.png?w=456&ssl=1)


The code mask notation is a very concise way to select one or many time series at once. It is compatible only with some providers : BIS, ECB, Eurostat, FED, ILO, IMF, INSEE, OECD, WTO.

## Fetch one series from dataset ‘Consumer Price Index’ (CPI) of IMF

![](https://i0.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-14-1.png?w=456&ssl=1)
![](https://i0.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-14-1.png?w=456&ssl=1)


![](https://i2.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-15-1.png?w=456&ssl=1)
![](https://i2.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-15-1.png?w=456&ssl=1)


## Fetch two series from dataset ‘Consumer Price Index’ (CPI) of IMF

You just have to add a `+` between two different values of a dimension.

![](https://i2.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-17-1.png?w=456&ssl=1)
![](https://i2.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-17-1.png?w=456&ssl=1)


![](https://i2.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-18-1.png?w=456&ssl=1)
![](https://i2.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-18-1.png?w=456&ssl=1)


## Fetch all series along one dimension from dataset ‘Consumer Price Index’ (CPI) of IMF

![](https://i2.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-20-1.png?w=456&ssl=1)
![](https://i2.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-20-1.png?w=456&ssl=1)


## Fetch series along multiple dimensions from dataset ‘Consumer Price Index’ (CPI) of IMF

![](https://i0.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-22-1.png?w=456&ssl=1)
![](https://i0.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-22-1.png?w=456&ssl=1)


Searching by dimension is a less concise way to select time series than using the code mask, but it works with all the different providers. You have a “*Description of series code*” at the bottom of each dataset page on the DBnomics website.

## Fetch one value of one dimension from dataset ‘Unemployment rate’ (ZUTN) of AMECO provider

![](https://i0.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-24-1.png?w=456&ssl=1)
![](https://i0.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-24-1.png?w=456&ssl=1)


![](https://i2.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-25-1.png?w=456&ssl=1)
![](https://i2.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-25-1.png?w=456&ssl=1)


## Fetch two values of one dimension from dataset ‘Unemployment rate’ (ZUTN) of AMECO provider

![](https://i2.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-27-1.png?w=456&ssl=1)
![](https://i2.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-27-1.png?w=456&ssl=1)


![](https://i1.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-28-1.png?w=456&ssl=1)
![](https://i1.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-28-1.png?w=456&ssl=1)


## Fetch several values of several dimensions from dataset ‘Doing business’ (DB) of World Bank

![](https://i2.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-30-1.png?w=456&ssl=1)
![](https://i2.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-30-1.png?w=456&ssl=1)


![](https://i1.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-31-1.png?w=456&ssl=1)
![](https://i1.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-31-1.png?w=456&ssl=1)


When you don’t know the codes of the dimensions, provider, dataset or series, you can:


go to the page of a dataset on DBnomics website, for example Doing Business, 


select some dimensions by using the input widgets of the left column,![](https://i1.wp.com/macro.nomics.world/images/dbnomics002.png?w=60%25&ssl=1)
![](https://i1.wp.com/macro.nomics.world/images/dbnomics002.png?w=60%25&ssl=1)



click on “*Copy API link*” in the menu of the “*Download*” button,![](https://i1.wp.com/macro.nomics.world/images/dbnomics003.png?w=60%25&ssl=1)
![](https://i1.wp.com/macro.nomics.world/images/dbnomics003.png?w=60%25&ssl=1)
 


use the `rdb_by_api_link` function such as below. 


![](https://i2.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-33-1.png?w=456&ssl=1)
![](https://i2.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-33-1.png?w=456&ssl=1)


![](https://i1.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-34-1.png?w=456&ssl=1)
![](https://i1.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-34-1.png?w=456&ssl=1)


On the cart page of the DBnomics website, click on “*Copy API link*” and copy-paste it as an argument of the `rdb_by_api_link` function. Please note that when you update your cart, you have to copy this link again, because the link itself contains the ids of the series in the cart.![](https://i0.wp.com/macro.nomics.world/images/dbnomics004.png?w=75%25&ssl=1)
![](https://i0.wp.com/macro.nomics.world/images/dbnomics004.png?w=75%25&ssl=1)


![](https://i2.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-37-1.png?w=456&ssl=1)
![](https://i2.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-37-1.png?w=456&ssl=1)


![](https://i2.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-38-1.png?w=456&ssl=1)
![](https://i2.wp.com/macro.nomics.world/figure/rdbnomics-tutorial/rdbnomics-tutorial-unnamed-chunk-38-1.png?w=456&ssl=1)


When using the functions `rdb` or `rdb_...`, you may come across the following error :

To get round this situation, you have two options :


configure **curl** to use a specific and authorized proxy.


use the default R internet connection i.e. the Internet Explorer proxy defined in *internet2.dll*.


## Configure **curl** to use a specific and authorized proxy

In **rdbnomics**, by default the function `curl_fetch_memory` (of the package **curl**) is used to fetch the data. If a specific proxy must be used, it is possible to define it permanently with the package option `rdbnomics.curl_config` or on the fly through the argument `curl_config`. In that way the object is passed to the argument `handle` of the `curl_fetch_memory` function.To see the available parameters, run `names(curl_options())` in *R* or visit the website https://curl.haxx.se/libcurl/c/curl_easy_setopt.html. Once they are chosen, you define the curl object as follows :

### Set the connection up for a session

The curl connection can be set up for a session by modifying the following package option :

When fetching the data, the command `curl_fetch_memory(url = <...>, handle = h)` is executed. In the event that you want to add others arguments, use :

After configuration, just use the standard functions of **rdbnomics** e.g. :

This option of the package can be disabled with :

### Use the connection only for a function call

If a complete configuration is not needed but just an “on the fly” execution, then use the argument `curl_config` of the functions `rdb` and `rdb_...` :

## Use the default R internet connection

To retrieve the data with the default R internet connection, **rdbnomics** will use the base function `readLines`.

### Set the connection up for a session

To activate this feature for a session, you need to enable an option of the package :

And then use the standard function as follows :

This configuration can be disabled with :

### Use the connection only for a function call

If you just want to do it once, you may use the argument `use_readLines` of the functions `rdb` and `rdb_...` :


*Related*








---
