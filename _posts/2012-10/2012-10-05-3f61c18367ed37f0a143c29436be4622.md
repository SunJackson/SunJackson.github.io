---
layout:     post
title:      Blogging with IPython in Octopress
subtitle:   转载自：http://jakevdp.github.io/blog/2012/10/04/blogging-with-ipython/
date:       2012-10-05
author:     Jake VanderPlas
header-img: img/background3.jpg
catalog: true
tags:
    - nbconvert
    - html
    - notebooks
    - code
    - blogging
---

A few weeks ago, Fernando Perez, the creator of IPython, wrote a [post](http://blog.fperez.org/2012/09/blogging-with-ipython-notebook.html) about blogging with IPython notebooks. I decided to take a stab at making this work in Octopress.

I started by following Fernando's outline: I first went to [http://github.com/ipython/nbconvert](http://github.com/ipython/nbconvert) and obtained the current version of the notebook converter. Running `nbconvert.py -f blogger-html filename.ipynb` produces a separate html and header file with the notebook content. I inserted the stylesheet info into my header (in octopress, the default location is `source/_includes/custom/head.html`) and copied the html directly into my post.

I immediately encountered a problem. `nbconvert` uses global CSS classes and style markups, and some of these (notably the "hightlight" class and the `<pre>` tag formatting) conflict with styles defined in my octopress theme. The result was that every post in my blog ended up looking like an ugly hybrid of octopress and an ipython notebook. Not very nice.

So I did some surgery. Admittedly, this is a terrible hack, but the following code takes the files output by nbconvert, slices them up, and creates a specific set of CSS classes for the notebook markup, such that there's no longer a conflict with the native octopress styles
(you can download this script [here](http://jakevdp.github.com/downloads/code/convert_notebook.py)):
